

##### Demo测试：

测试1：

数据量：100000
信号量数：100
操作：sleep(0.1)

机型：iPhone 6

结果：

|                  |               |           |           |           |            |
| ---------------- | ------------- | --------- | --------- | --------- | ---------- |
| gcd              | **10.128929** | 22.046736 | 21.773597 | 21.773597 | 316.410215 |
| dispatch_pool_20 | 24.438542     | 23.561325 | 22.607781 | 23.661792 | 341.968153 |



测试2:

数据量：100000
信号量数：100
操作内容：浮点数计算

机型：iPhone 6

```
for(float k = 0.5; k < tag; k = k + 1){
	if(k == tag - 0.5){
		NSLog(@"%@:%d",info,tag);
	}
}
```

结果：

|               |      第一次       |      第二次      |      第三次      |      第四次      |      第五次      | 线程数： |
| ------------- | :------------: | :-----------: | :-----------: | :-----------: | :-----------: | ---- |
| gcd           | **43.621449**  | **51.388452** | **70.153725** | **49.635466** | **47.991072** | 69   |
| dispatch_pool | **961.352435** |   23.561325   |   22.607781   |   23.661792   |  341.968153   | 4    |

#### 设计方案改进：优化执行时间

##### Demo测试：

Demo测试1：

数据量：100000
信号量数：20
操作：sleep(0.1)

机型：iPhone 6

结果：

|               |      第一次      | 第二次  | 第三次  | 第四次  | 第五次  |
| :------------ | :-----------: | :--: | :--: | :--: | :--: |
| gcd           | **80.275015** |      |      |      |      |
| dispatch_pool | **39.160026** |      |      |      |      |

数据量：100000
信号量数：20
操作内容：浮点数计算

机型：iPhone 6

```
for(float k = 0.5; k < tag; k = k + 1){
	if(k == tag - 0.5){
		NSLog(@"%@:%d",info,tag);
	}
}
```

结果：

|               |      第一次       |    第二次    |    第三次    |    第四次    |    第五次    |
| :------------ | :------------: | :-------: | :-------: | :-------: | :-------: |
| gcd           |   22.685195    | 22.046736 | 21.773597 | 21.773597 | 21.586057 |
| dispatch_pool | **591.146370** | 47.465175 | 22.607781 | 23.661792 | 22.338823 |